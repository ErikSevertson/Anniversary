<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Love Clicker</title>
  <style>
    body {
      text-align: center;
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff0f5;
      padding-top: 40px;
    }

    #progress-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 20px;
      background-color: #e0e0e0;
      z-index: 1000;
    }

    #progress-bar {
      height: 100%;
      width: 0%;
      background-color: #ff69b4;
      transition: width 0.3s ease;
    }

    #heart-btn {
      font-size: 4rem;
      cursor: pointer;
      border: none;
      background: none;
      transition: transform 0.1s ease;
    }

    #heart-btn:active {
      transform: scale(1.2);
    }

    .counter {
      font-size: 1.5rem;
      margin: 1rem 0;
    }

    .button {
      margin: 0.5rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
    }

    #secret-message {
      display: none;
      margin-top: 1rem;
      font-size: 1.2rem;
      color: #c71585;
    }
  </style>
</head>
<body>

  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>

  <h1>💖 Love Clicker 💖</h1>
  <div class="counter">
    Love Points: <span id="points">0</span><br>
    Click Power: <span id="click-power">1</span><br>
    Auto Generators: <span id="auto-count">0</span><br>
    Prestige Multiplier: x<span id="prestige">1</span>
  </div>

  <button id="heart-btn">❤️</button><br>

  <button class="button" id="upgrade-btn">Upgrade Click (+1)</button><br>
  <button class="button" id="auto-btn">Buy Auto Generator</button><br>
  <button class="button" id="prestige-btn">Prestige (100,000 LP)</button><br>
  <button class="button" id="reset-btn">Reset Game</button>

  <div id="secret-message">🎉 You've reached 100,000 love points! You're unstoppable! 💘</div>

  <script>
    let points = 0;
    let pointsPerClick = 1;
    let upgradeCost = 10;
    let autoCount = 0;
    let autoCost = 100;
    let prestigeMultiplier = 1;

    const pointsDisplay = document.getElementById('points');
    const clickPowerDisplay = document.getElementById('click-power');
    const autoCountDisplay = document.getElementById('auto-count');
    const prestigeDisplay = document.getElementById('prestige');
    const progressBar = document.getElementById('progress-bar');

    const heartBtn = document.getElementById('heart-btn');
    const upgradeBtn = document.getElementById('upgrade-btn');
    const autoBtn = document.getElementById('auto-btn');
    const prestigeBtn = document.getElementById('prestige-btn');
    const resetBtn = document.getElementById('reset-btn');

    function saveGame() {
      const data = {
        points, pointsPerClick, upgradeCost, autoCount, autoCost, prestigeMultiplier
      };
      localStorage.setItem('loveClickerSave', JSON.stringify(data));
    }

    function loadGame() {
      const data = JSON.parse(localStorage.getItem('loveClickerSave'));
      if (data) {
        points = data.points || 0;
        pointsPerClick = data.pointsPerClick || 1;
        upgradeCost = data.upgradeCost || 10;
        autoCount = data.autoCount || 0;
        autoCost = data.autoCost || 100;
        prestigeMultiplier = data.prestigeMultiplier || 1;
      }
    }

    function resetGame(full = true) {
      points = 0;
      pointsPerClick = 1;
      upgradeCost = 10;
      autoCount = 0;
      autoCost = 100;
      if (full) prestigeMultiplier = 1;
      localStorage.removeItem('loveClickerSave');
    }

    function updateDisplay() {
      pointsDisplay.textContent = Math.floor(points);
      clickPowerDisplay.textContent = pointsPerClick;
      autoCountDisplay.textContent = autoCount;
      prestigeDisplay.textContent = prestigeMultiplier;

      upgradeBtn.textContent = `Upgrade Click (+1) — Cost: ${upgradeCost}`;
      autoBtn.textContent = `Buy Auto Generator — Cost: ${autoCost}`;

      const progress = Math.min(points / 100000, 1) * 100;
      progressBar.style.width = `${progress}%`;

      if (points >= 100000) {
        document.getElementById('secret-message').style.display = 'block';
      }
    }

    heartBtn.addEventListener('click', () => {
      points += pointsPerClick * prestigeMultiplier;
      updateDisplay();
    });

    upgradeBtn.addEventListener('click', () => {
      if (points >= upgradeCost) {
        points -= upgradeCost;
        pointsPerClick++;
        upgradeCost = Math.floor(upgradeCost * 1.5);
        updateDisplay();
      } else {
        alert("Not enough love points!");
      }
    });

    autoBtn.addEventListener('click', () => {
      if (points >= autoCost) {
        points -= autoCost;
        autoCount++;
        autoCost = Math.floor(autoCost * 1.75);
        updateDisplay();
      } else {
        alert("Not enough love points!");
      }
    });

    prestigeBtn.addEventListener('click', () => {
      if (points >= 100000) {
        prestigeMultiplier++;
        resetGame(false); // keep prestige
        alert("Prestige unlocked! Your points now earn x" + prestigeMultiplier + " ❤️");
        updateDisplay();
      } else {
        alert("You need 100,000 love points to prestige!");
      }
    });

    resetBtn.addEventListener('click', () => {
      if (confirm("Are you sure you want to reset everything?")) {
        resetGame();
        updateDisplay();
      }
    });

    // Auto-generator loop
    setInterval(() => {
      if (autoCount > 0) {
        points += autoCount * prestigeMultiplier;
        updateDisplay();
      }
    }, 1000); // 1 second

    // Save every 2 seconds
    setInterval(saveGame, 2000);

    // Initialize
    loadGame();
    updateDisplay();
  </script>

</body>
</html>
